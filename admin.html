<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>M-TAHA Admin Center</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: 'Cairo', sans-serif; background: #0f172a; color: white; padding: 20px; }
        .card { background: #1e293b; border: none; color: white; border-radius: 12px; margin-bottom: 20px; }
        input { background: #334155 !important; color: white !important; border: 1px solid #475569 !important; }
        .store-row { background: rgba(255,255,255,0.03); border-radius: 10px; padding: 15px; margin-bottom: 10px; border-right: 4px solid #10b981; }
    </style>
</head>
<body>

<div class="container" style="max-width: 750px;">
    <h2 class="text-center text-warning mb-4 fw-bold">M-TAHA CONTROL PANEL</h2>

    <div class="card p-4 shadow">
        <h6 class="text-info mb-3">ğŸ“¢ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¹Ø§Ù…</h6>
        <div class="input-group">
            <input id="news" class="form-control" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© ØªØ¸Ù‡Ø± Ù„Ù„Ø¬Ù…ÙŠØ¹...">
            <button class="btn btn-info fw-bold" onclick="rdb.ref('admin_announcement').set(document.getElementById('news').value)">Ù†Ø´Ø±</button>
        </div>
    </div>

    <div class="card p-4 shadow">
        <h6 class="text-success mb-3">ğŸ†• Ø¥Ø¶Ø§ÙØ© Ù…ØªØ¬Ø± (ÙƒÙˆØ¯ Ø­Ø±ÙˆÙ ÙˆØ£Ø±Ù‚Ø§Ù…)</h6>
        <div class="row g-2">
            <div class="col-7"><input id="s_n" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„"></div>
            <div class="col-5"><input id="s_c" class="form-control" placeholder="ÙƒÙˆØ¯ Ù‚ÙˆÙŠ (Ù…Ø«Ù„: Taha@123)"></div>
            <button class="btn btn-success w-100 mt-2 fw-bold" onclick="addStore()">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¢Ù† ğŸš€</button>
        </div>
    </div>

    <h5 class="mt-4">Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠÙŠÙ†:</h5>
    <div id="list"></div>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAYJwvrBLc_svZ2IcWBzrBbK_ZpUqX0G8M",
  authDomain: "store-project-b023e.firebaseapp.com",
  databaseURL: "https://store-project-b023e-default-rtdb.firebaseio.com",
  projectId: "store-project-b023e",
  storageBucket: "store-project-b023e.appspot.com",
  messagingSenderId: "561530737705",
  appId: "1:561530737705:web:beefb32c081f9bf8b53838"
};
firebase.initializeApp(firebaseConfig);
const rdb = firebase.database();

function addStore() {
    const n = document.getElementById('s_n').value, c = document.getElementById('s_c').value;
    if(!n || !c) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    rdb.ref('active_stores/'+c).set({ name: n }).then(() => {
        alert("ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ âœ…");
        document.getElementById('s_n').value = ""; document.getElementById('s_c').value = "";
    });
}

rdb.ref('active_stores').on('value', s => {
    const l = document.getElementById('list'); l.innerHTML = "";
    const data = s.val();
    for(let code in data) {
        l.innerHTML += `
            <div class="store-row d-flex justify-content-between align-items-center">
                <div><b>${data[code].name}</b> <br><small class="text-warning">ÙƒÙˆØ¯: ${code}</small></div>
                <button class="btn btn-sm btn-outline-danger" onclick="rdb.ref('active_stores/${code}').remove()">Ø­Ø°Ù</button>
            </div>`;
    }
});
</script>
</body>
</html>
