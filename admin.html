<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>لوحة الأدمن - M-TAHA</title>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<style>
body { font-family:sans-serif; background:#ecf0f1; padding:20px; }
.card { background:white; padding:15px; border-radius:15px; margin-bottom:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
input,button { padding:10px; margin:5px 0; font-size:16px; }
button { cursor:pointer; background:#27ae60; color:white; border:none; border-radius:8px;}
</style>
</head>
<body>

<h2>لوحة الأدمن</h2>

<div class="card">
    <h3>شريط الإعلان</h3>
    <input type="text" id="banner-input" placeholder="اكتب إعلان اليوم">
    <button onclick="updateBanner()">تحديث الإعلان</button>
</div>

<div class="card">
    <h3>إدارة المتاجر</h3>
    <input type="text" id="shop-id" placeholder="معرف المتجر">
    <button onclick="activateShop()">تفعيل المتجر</button>
    <button onclick="deleteShop()">حذف بيانات المتجر</button>
</div>

<script>
const firebaseConfig={databaseURL:"https://YOUR-PROJECT-ID.firebaseio.com"};
firebase.initializeApp(firebaseConfig);
const rdb=firebase.database();

// تحديث شريط الإعلان
function updateBanner(){
    const msg=document.getElementById('banner-input').value.trim();
    if(!msg)return alert("اكتب رسالة");
    rdb.ref('admin/banner').set(msg);
    alert("تم التحديث ✅");
}

// تفعيل متجر
function activateShop(){
    const id=document.getElementById('shop-id').value.trim();
    if(!id)return alert("اكتب المعرف");
    rdb.ref('requests/'+id).update({status:'active'});
    alert("تم تفعيل المتجر ✅");
}

// حذف بيانات متجر
function deleteShop(){
    const id=document.getElementById('shop-id').value.trim();
    if(!id)return alert("اكتب المعرف");
    if(confirm("سيتم حذف جميع بيانات المتجر!")){
        rdb.ref('stores/'+id).remove();
        rdb.ref('requests/'+id).remove();
        alert("تم المسح ✅");
    }
}
</script>
</body>
</html>
