<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­Ù…Ø¯ Ø·Ù‡</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family:'Cairo'; background:#ecf0f1; padding:20px; text-align: right; }
        .card { background:#fff; padding:20px; border-radius:15px; margin-bottom:20px; box-shadow:0 4px 6px rgba(0,0,0,0.1); }
        input, button { width:100%; padding:10px; margin-top:10px; border-radius:8px; border:1px solid #ddd; box-sizing: border-box; }
        button { background:#3498db; color:#fff; border:none; cursor:pointer; font-weight:700; }
        table { width:100%; border-collapse:collapse; margin-top:10px; }
        th, td { padding:10px; border:1px solid #eee; text-align:center; }
        h2 { color: #2c3e50; margin-top: 0; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸ“¢ Ø¥Ø¹Ù„Ø§Ù† Ø¹Ø§Ù… Ù„Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</h2>
        <input id="ad-txt" placeholder="Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§">
        <button onclick="sendAd(true)">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
        <button style="background:gray" onclick="sendAd(false)">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
    </div>

    <div class="card">
        <h2>ğŸ”‘ Ø¥Ø¶Ø§ÙØ© Ù…Ø´ØªØ±Ùƒ (Ø¯ÙƒØ§Ù†) Ø¬Ø¯ÙŠØ¯</h2>
        <input id="s-n" placeholder="Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø¯ÙƒØ§Ù†">
        <input id="s-c" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ (Ù…Ø«Ù„Ø§Ù‹: Taha01)">
        <button style="background:#2ecc71" onclick="addS()">Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù…Ø´ØªØ±Ùƒ</button>
    </div>

    <div class="card">
        <h2>ğŸª Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙƒØ§ÙƒÙŠÙ† Ø§Ù„Ù…ÙØ¹Ù„Ø©</h2>
        <div id="list">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
    </div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø´Ø±ÙˆØ¹Ùƒ Store-project Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø© Ù…Ù† Ø§Ù„ØµÙˆØ±Ø©
    const firebaseConfig = {
        apiKey: "AIzaSyAYJwvrBLc_svZ2icW8zrBbKrFyg1METn0",
        authDomain: "store-project-b023e.firebaseapp.com",
        databaseURL: "https://store-project-b023e-default-rtdb.firebaseio.com",
        projectId: "store-project-b023e",
        storageBucket: "store-project-b023e.firebasestorage.app",
        messagingSenderId: "561530737705",
        appId: "1:561530737705:web:beefb32c081f9bf8b53838"
    };

    // Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // ÙˆØ¸ÙŠÙØ© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
    function sendAd(status) {
        const text = document.getElementById('ad-txt').value;
        db.ref('global_ads').set({
            text: text,
            active: status
        }).then(() => {
            alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­!");
        });
    }

    // ÙˆØ¸ÙŠÙØ© Ø¥Ø¶Ø§ÙØ© Ù…Ø´ØªØ±Ùƒ Ø¬Ø¯ÙŠØ¯
    function addS() {
        const name = document.getElementById('s-n').value;
        const code = document.getElementById('s-c').value;
        if(name && code) {
            db.ref('activations/' + code).set({
                name: name,
                active: true
            }).then(() => {
                alert("ØªÙ… ØªÙØ¹ÙŠÙ„ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø¨Ù†Ø¬Ø§Ø­");
                document.getElementById('s-n').value = "";
                document.getElementById('s-c').value = "";
            });
        } else {
            alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹");
        }
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† ÙÙŠ Ø¬Ø¯ÙˆÙ„ ÙˆØªØ­Ø¯ÙŠØ«Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    db.ref('activations').on('value', snapshot => {
        let html = '<table><tr><th>Ø§Ø³Ù… Ø§Ù„Ø¯ÙƒØ§Ù†</th><th>ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„</th></tr>';
        snapshot.forEach(child => {
            html += `<tr><td>${child.val().name}</td><td>${child.key}</td></tr>`;
        });
        html += '</table>';
        document.getElementById('list').innerHTML = html;
    });
</script>
</body>
</html>
